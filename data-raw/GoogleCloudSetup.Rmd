---
title: "CloudStorage"
author: "Graham Chickering"
date: "11/15/2020"
output: pdf_document
---

```{r setup, include=FALSE}
library(googleCloudStorageR)
```

Here we check your buckets that are associated and available with your own person account_credentials.
```{r}
gcs_auth(json_file="account_credentials.json")
gcs_list_buckets("image-analysis-detection")
```

This reads all the files that are stored in the google cloud storage bucket that you want to work with
```{r}
gcs_get_bucket("chest-xray-medical")
gcs_global_bucket("chest-xray-medical")
medical_objects <- gcs_list_objects() %>% mutate(id= row_number())
```
This part is going to copy the data that is available in your Google Cloud Storage bucket back to the destination of your choosing (this is somewhere on your computer that you can choose). The destination should be somewhere that is not connected to a Github account (Since the folder is so large, Github will not be able to hold the folder). This is necessary for us to work with models later on. This download can be deleted at anytime after the analysis is complete since the data is stored in your Google Cloud Storage bucket. Change the destination here to somewhere on your personal computer.  This will take a couple minutes to copy over all the data from your bucket onto your computer.

```{r, warning=FALSE, message=FALSE}
gs_rsync(source="gs://chest-xray-medical", destination="/Users/grahamchickering/Desktop", recursive=TRUE )
```
This just copied 

